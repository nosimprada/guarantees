<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Butterfly WebApp</title>

    <!-- Подключение Swiper.js через CDN -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-image: url('https://i.imgur.com/iH68xzN.png');
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-position: center;
            color: white;
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 5px;
            text-align: center;
        }

        .fixed-header {
            position: sticky;
            top: 0;
            background-color: rgba(0, 0, 0, 0.7);
            padding: 10px;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9em;
        }

        .fixed-header .left-section {
            text-align: left;
        }

        .fixed-header .right-section {
            text-align: right;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }

        .fixed-header .center-section {
            flex-grow: 1;
            display: flex;
            justify-content: center;
        }

        .fixed-header .subheader, .fixed-header .city-info, .fixed-header .balance-info {
            color: #ccc;
            margin: 0;
            padding-right: 15px;
        }

        .fixed-header img {
            max-height: 40px;
        }

        .recharge-button {
            margin-bottom: 5px;
            padding: 5px 10px;
            border: 1px solid #ff6666;
            background-color: #ff6666;
            cursor: pointer;
            border-radius: 5px;
            color: white;
            font-size: 0.9em;
        }

        .recharge-button:hover {
            background-color: #ff4d4d;
            border-color: #ff4d4d;
        }

        .center-section {
            flex-direction: column;
            align-items: center;
        }
        
        .menu-button {
            font-size: 0.8em;
            cursor: pointer;
            padding: 2px 10px;
            margin-top: 5px;
            color: white;
            background-color: transparent;
            border: none;
            text-align: center;
        }
        
        .menu-button:hover {
            color: #ff6666;
        }
        
        .dropdown-menu {
            display: none;
            position: absolute;
            top: 70px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.8);
            box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            z-index: 1000;
            width: 200px;
            text-align: center;
        }
        
        .dropdown-menu a {
            color: white;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .dropdown-menu a:hover {
            background-color: #575757;
        }
        
        .dropdown-menu a:last-child {
            border-bottom: none;
        }
        
        .swiper-container {
            width: 100%;
            max-width: 300px;
            height: auto;
            margin: 0 auto;
            border: 2px solid black;
            border-radius: 15px;
            background-image: url('https://i.imgur.com/iH68xzN.png');
            background-size: cover;
            background-position: center;
            overflow: hidden;
            position: relative;
            padding-bottom: 30px;
        }

        .swiper-slide img {
            width: 100%;
            height: auto;
            object-fit: cover;
            border-radius: 10px;
        }

        .swiper-pagination {
            position: absolute !important;
            bottom: 10px !important;
            left: 50% !important;
            transform: translateX(-50%) !important;
            display: flex !important;
            justify-content: center !important;
        }

        .swiper-pagination-bullet {
            background-color: gray;
            margin: 0 5px;
            opacity: 0.5;
        }

        .swiper-pagination-bullet-active {
            background-color: blue;
            opacity: 1;
        }

        .model-info {
            margin-top: 5px;
            font-size: 1.1em;
            font-weight: bold;
        }

        .services {
            margin: 10px 0 5px;
            padding: 10px;
            border: 1px solid black;
            border-radius: 10px;
            display: inline-block;
            width: 90%;
            max-width: 300px;
            background-image: url('https://i.imgur.com/WfHVlZv.png');
            background-size: cover;
            background-position: center;
            background-color: rgba(255, 255, 255, 0.9);
        }

        .service-item {
            padding: 8px;
            margin: 3px 0;
            border: 1px solid #000;
            border-radius: 8px;
            background-image: url('https://i.imgur.com/Ab6tx3G.png');
            background-size: cover;
            background-position: center;
            font-size: 0.9em;
            color: white;
        }

        .buttons {
            display: flex;
            justify-content: space-around;
            margin-top: 5px;
            flex-wrap: wrap;
        }

        .button {
            padding: 8px 15px;
            margin: 5px;
            border: 2px solid #ff6666;
            background-color: #ff6666;
            cursor: pointer;
            border-radius: 10px;
            font-size: 0.9em;
            width: 45%;
            color: white;
        }

        .button:hover {
            background-color: #ff4d4d;
            border-color: #ff4d4d;
        }

        .model-block {
            margin-bottom: 20px;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-image: url('https://i.imgur.com/sz1YeQx.png');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 20px;
            border-radius: 15px;
            max-width: 400px;
            width: 90%;
            text-align: center;
            position: relative;
            overflow: hidden;
            max-height: 80vh; /* Ограничиваем высоту окна */
            overflow-y: auto; /* Включаем вертикальный скролл */
        }

        .close-btn {
            position: absolute;
            top: 5px;
            right: 10px;
            font-size: 1.2em;
            cursor: pointer;
            z-index: 10;
        }

        .modal-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .content-container {
            padding: 15px;
            border: 1px solid black;
            border-radius: 10px;
            background-image: url('https://i.imgur.com/Ab6tx3G.png');
            background-size: cover;
            background-position: center;
            width: 48%;
            box-sizing: border-box;
            color: white;
        }

        .content-container-large {
            width: 100%;
            margin-bottom: 10px;
            background-image: url('https://i.imgur.com/Ab6tx3G.png');
            background-size: cover;
            background-position: center;
            color: white;
            border-radius: 15px;
        }

        .input-field {
            padding: 10px;
            border-radius: 15px;
            border: 1px solid #000;
            width: 50%;
            margin: 10px auto;
            display: block;
            text-align: center;
            font-size: 1.1em;
            background-color: #fff;
            color: #000;
        }

        .button-container {
            margin-top: 10px;
        }

        .form-button {
            padding: 8px 15px;
            background-color: #ff6666;
            border: 2px solid #ff6666;
            cursor: pointer;
            border-radius: 10px;
            font-size: 1em;
            color: white;
        }

        .form-button:hover {
            background-color: #ff4d4d;
            border-color: #ff4d4d;
        }

        .swiper-container .swiper-pagination {
            z-index: 0;
        }

        /* Стиль для нового модального окна */
        .modal-recharge {
            display: none;
            position: fixed;
            z-index: 2;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            justify-content: center;
            align-items: center;
        }

        .modal-recharge-content {
            background-image: url('https://i.imgur.com/b5B5udC.png');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 20px;
            border-radius: 15px;
            max-width: 350px;
            width: 80%;
            text-align: center;
            position: relative;
        }

        .modal-recharge-content p {
            margin-bottom: 20px;
        }

        .error-message {
            color: white;
            display: none;
            margin-top: 10px;
            font-weight: bold;
        }

        /* Стиль для окна оплаты */
        .modal-payment {
            display: none;
            position: fixed;
            z-index: 2;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            justify-content: center;
            align-items: center;
        }

        .modal-payment-content {
            background-image: url('https://i.imgur.com/b5B5udC.png');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 20px;
            border-radius: 15px;
            max-width: 350px;
            width: 80%;
            text-align: center;
            position: relative;
        }

        .payment-header {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .payment-amount {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .payment-info {
            font-size: 0.9em;
            margin-bottom: 20px;
        }

        .copy-button {
            padding: 5px 10px;
            border: 1px solid #ff6666;
            background-color: #ff6666;
            cursor: pointer;
            border-radius: 5px;
            color: white;
            font-size: 0.9em;
        }

        .copy-button:hover {
            background-color: #ff4d4d;
            border-color: #ff4d4d;
        }

        .modal-notification {
            display: none;
            position: fixed;
            z-index: 3;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            justify-content: center;
            align-items: center;
        }

        .modal-notification-content {
            background-image: url('https://i.imgur.com/b5B5udC.png');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 20px;
            border-radius: 15px;
            max-width: 350px;
            width: 80%;
            text-align: center;
            position: relative;
        }

        .notification-image {
            width: 50px;
            margin-bottom: 15px;
        }

        .notification-text {
            margin-bottom: 20px;
            font-size: 1.1em;
        }

        .modal-close-btn {
            padding: 10px 15px;
            background-color: #ff6666;
            border: 2px solid #ff6666;
            cursor: pointer;
            border-radius: 10px;
            font-size: 1em;
            color: white;
        }
        
        .service-option {
            margin: 10px 0;
            padding: 10px;
            border: 2px solid #ff6666;
            cursor: pointer;
            border-radius: 10px;
            background-color: #ff6666;
            color: white;
        }
        
        .service-option.selected {
            background-color: #ff4d4d;
            border-color: #ff4d4d;
        }
        
        #total-amount {
            font-size: 1.2em;
            margin-top: 20px;
        }
        
        .form-button {
            padding: 10px 20px;
            background-color: #ff6666;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            color: white;
            font-size: 1em;
        }
        
        .form-button:hover {
            background-color: #ff4d4d;
        }

        /* Дополнительные услуги */
        .modal-add-services {
            display: none;
            position: fixed;
            z-index: 2;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            justify-content: center;
            align-items: center;
        }

        .modal-add-services-content {
            background-image: url('https://i.imgur.com/sz1YeQx.png');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 20px;
            border-radius: 15px;
            max-width: 400px;
            width: 90%;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .additional-service {
            margin: 10px 0;
            padding: 10px;
            border: 2px solid #ff6666;
            cursor: pointer;
            border-radius: 10px;
            background-color: #ff6666;
            color: white;
        }

        .additional-service.selected {
            background-color: #ff4d4d;
            border-color: #ff4d4d;
        }

        #final-amount {
            font-size: 1.2em;
            margin-top: 20px;
        }

        .button-row {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .button-container {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
        }

        .form-button-pay-balance {
            padding: 10px 20px;
            background-color: #ff6666;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            color: white;
            font-size: 1em;
            display: block;
            margin: 0 auto; /* Центрирование кнопки */
        }
        
        .form-button-pay-balance:hover {
            background-color: #ff4d4d;
        }
        
        .button-container {
            display: flex;
            justify-content: space-between; /* Разместить кнопки по разным сторонам */
            align-items: center;
            margin-top: 10px;
        }

        /* Стиль кнопки "Мои заказы" */
        .my-orders-button {
            width: 150px;
            text-align: center;
            padding: 10px 20px;
            background-color: #ff6666;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            color: white;
            font-size: 1em;
            display: block;
            margin: 0 auto;
        }
        
        .my-orders-button:hover {
            background-color: #ff4d4d;
        }
        
        /* Стиль кнопки "Закрыть" */
        .close-modal-button {
            width: 150px;
            text-align: center;
            padding: 10px 20px;
            background-color: #666666;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            color: white;
            font-size: 1em;
            display: block;
            margin: 0 auto;
        }
        
        .close-modal-button:hover {
            background-color: #4d4d4d;
        }
        
        /* Центрирование кнопок внутри контейнера */
        .modal .button-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .button-container-details {
            display: flex;
            justify-content: space-between; /* Размещаем кнопки по разным сторонам */
            margin-top: 10px;
            gap: 10px; /* Расстояние между кнопками */
        }
        
        .form-button {
            padding: 8px 15px;
            background-color: #ff6666;
            border: 2px solid #ff6666;
            cursor: pointer;
            border-radius: 10px;
            font-size: 1em;
            color: white;
            flex: 1; /* Кнопки занимают равное пространство */
        }
        
        .form-button:hover {
            background-color: #ff4d4d;
            border-color: #ff4d4d;
        }








      /* Дополнительные стили для раздела "О нас" */
        .about-container {
            text-align: center;
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            margin: 20px;
            border-radius: 15px;
        }

        .about-title {
            font-size: 1.8em;
            margin-bottom: 20px;
        }

        .about-text {
            font-size: 1.2em;
            line-height: 1.6;
            margin-bottom: 20px;
            text-align: left;
        }

        .about-button {
            padding: 10px 20px;
            background-color: #ff6666;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            color: white;
            font-size: 1em;
            display: inline-block;
        }

        .about-button:hover {
            background-color: #ff4d4d;
        }
      
    </style>
</head>
<body>

    <div class="container">
        <div class="fixed-header">
            <div class="left-section">
                <div id="city-name">Город: Москва</div>
                <div id="model-count">Модели: 10</div>
            </div>
            <div class="center-section">
                <img src="https://i.imgur.com/QP0tpU2.png" alt="Butterfly Logo">
                <div class="menu-button" onclick="toggleMenu()">♔НАВИГАЦИЯ♔</div> <!-- Кнопка меню -->
                <div class="dropdown-menu" id="dropdown-menu">
                    <a href="#" id="about-link">О нас</a>
                    <a href="#" id="models-link">Модели🦋</a>
                    <a id="orders-link" href="#">Заказы</a>
                    <a id="support-link" href="#">Тех.Поддержка</a>
                </div>
            </div>
            <div class="right-section">
                <button class="recharge-button" onclick="openRechargeModal()">Пополнить</button> <!-- Открытие модального окна для пополнения -->
                <div id="balance">Баланс: 1000₽</div>
            </div>
        </div>

        <div id="models-container">
            <!-- Здесь будут добавляться модели -->
        </div>

      <!-- Контейнер с информацией о нас -->
        <div class="about-container">
            <div class="about-title">Пользовательское соглашение</div>
            <div class="about-text">
                <!-- Ваш длинный текст будет здесь -->
                Администратор управляет сайтом («Сайт»), на котором пользователи («Исполнители») создают анкеты, а Администратор предоставляет третьим лицам («Клиентам») знакомиться с информацией об Исполнителях. Анкеты содержат различную информацию об Исполнителе, в частности о предлагаемых услугах, его местоположении, внешних данных и др. Как пользователь Сайта, Клиент может просматривать анкеты, связаться с Исполнителем через Сайт в личных целях. Администратор не несет ответственности за мотивы, которыми руководствуются Клиенты при взаимодействии с Исполнителями. Администратор не осуществляет организацию и контроль взаимодействия Исполнителей и Клиентов, а также не взимает каких-либо денежных средств за взаимодействие Исполнителей с Клиентами. За изучение анкет Исполнителей, а также взаимодействие с ними, Администратор не взимает с Клиента плату.
                <br><br>
                Использование Сайта запрещено лицам, не достигшим совершеннолетия в соответствии с законом Российской Федерации. Третье лицо, не достигшее совершеннолетия, обязано незамедлительно прекратить использование Сайта.
                <br><br>
                Клиент явно осознает, что всю ответственность за любое использование Сайта, а также за любое взаимодействие с Исполнителями, он несет самостоятельно.
                <br><br>
                Настоящее Пользовательское соглашение применяется к отношениям между Администратором и Клиентами при просмотре ими информации, размещенной на Сайте.
                Администратор оставляет за собой право изменять в любое время без согласия и уведомления Клиента изменять настоящее Пользовательское соглашение. Используя Сайт, Клиент даёт свое согласие на присоединение к настоящему Пользовательскому соглашению. Администратор настоятельно рекомендует Клиенту регулярно проверять настоящее Пользовательское соглашение с целью повышения осведомленности в изменениях, которые в него могут быть внесены. В случае несогласия с настоящим Пользовательским соглашением или хотя бы с одним из его положений, Клиент обязан незамедлительно прекратить использование Сайта.
                До прохождения процедуры регистрации на Сайте Клиент получает доступ к Сайту и его функциональным особенностям в ограниченном объеме.
                Чтобы получить доступ к полному объему функциональных особенностей Сайта Клиенту необходимо зарегистрироваться на Сайте. В результате регистрации Клиента на Сайте создается уникальная учетная запись Клиента, а Пользователь получает доступ к Личному кабинету.
                Уникальная учетная запись содержит персональную информацию Клиента, предоставленную им при регистрации на Сайте. Администратор не несет ответственность за достоверность сведений, предоставленных Клиентом.
                Персональная информация Клиента хранится и обрабатывается в соответствии с положениями Политики конфиденциальности, разработанной и утвержденной Администратором в соответствии с Федеральным законом от 27.07.2006 года №152-ФЗ «О персональных данных»
                Клиент самостоятельно несет ответственность за сохранность и конфиденциальность информации, введённой им на Сайте.
                В случае утери доступа к Личному аккаунту Клиент вправе осуществить его замену, использовав специальную форму на Сайте.
                Действия, совершаемые с использованием личного кабинета на Сайте, приравниваются к действиям, совершаемым с простой электронной цифровой подписью.
                Администратор предоставляет Клиенту простую (неисключительную) лицензию на использование функциональных особенностей Сайта, позволяющих Клиенту просматривать анкеты, созданные исполнители, а также совершать иные действия, предусмотренные настоящим Пользовательским соглашением. Указанная лицензия предоставляется Клиенту безвозмездно на срок фактического использования им функциональных особенностей Сайта. Указанная лицензия не наделяет Клиента правом выдачи сублицензий.
                Для использования Сайта Клиент должен обладать техническим оборудованием соответствующим следующим критериям:
                Присоединяясь к настоящему Пользовательскому соглашению, Клиент подтверждает наличие у него технической возможности для использования Сайта.
                Клиенту запрещается нарушать нормальную работу Сайта, загружать, направлять, передавать или любым другим способом распространять материалы, содержащие вирусы или другие компьютерные коды, файлы, программы, предназначенные для нарушения, уничтожения либо ограничения функциональности Сайта либо для осуществления несанкционированного доступа на Сайт.
                Администратор вправе направлять Клиенту сообщения рекламного и информационного характера на адрес электронной почты, указанной Клиентом при регистрации на Сайте.
                Администратор предоставляет Клиентам доступ к анкетам, созданным Исполнителями, и к информации, которая в них содержится (данные, изображения, видео и т. д.). Используя Сайт Клиент может выбрать анкеты на основе различных критериев, в частности услуг, предлагаемых Исполнителями, и их стоимости, местонахождения Исполнителей, внешних данных Исполнителей, а также иных сведений об Исполнителях. Программное обеспечение, используемое Сайтом, может определять сведения о местонахождении Клиентов и Исполнителей и передавать их на Сайт.
                Клиент вправе оставлять отзывы в анкетах Исполнителей, оказавших ему те или иные услуги. Оставляемые отзывы должны носить достоверный характер. Клевета, а также иные отзывы, негативно отражающиеся на чести и достоинстве Исполнителей, не допускаются.
                Администратор не несет ответственности за услуги, оказываемые Исполнителями Клиентам.
                Сайт представляет собой совокупность информации, текстов, материалов, графических элементов, дизайна, изображений, фото и видеоматериалов, музыки, скриптов, программ для ЭВМ и иных результатов интеллектуальной деятельности, содержащихся в информационной системе, доступной на Сайте.
                Целью Сайта является размещение Исполнителями информации о себе и ознакомление Клиентов с анкетами Исполнителей, содержащими указанную информацию.
                Администратор на свое усмотрение формирует содержание Сайта, изменяет, обновляет Сайт и отдельные его части, определяет порядок предоставления доступа к Сайту, предлагает различные сервисы на базе Сайта самостоятельно или в сотрудничестве с третьими лицами.
                Администратор вправе по своему усмотрению предоставлять Клиенту доступ к Сайту в целом или его частям как на возмездной, так и безвозмездной основе, устанавливать ограничения в использовании сервисов Сайте для всех Клиентов либо для отдельных категорий Клиентов.
                За неисполнение или ненадлежащее исполнение обязательств по настоящему Пользовательскому соглашению Стороны несут ответственность в соответствии с настоящим Пользовательским соглашением и действующим законодательством Российской Федерации.
                Пользователь использует Сайт на свой риск. Сайт и его сервисы предоставляются Пользователю «как есть».
                Администратор не гарантирует, что <br>
                (а) Сайт и его функциональные особенности будут соответствовать требованиям Клиента;
                <br><br>
                (б) доступ к Сайту и его функциональным особенностям будет предоставляться непрерывно, быстро, надежно и без ошибок;
                <br><br>
                (в) результаты, которые будут получены с помощью Сайта, будут точными, надежными и могут быть использованы для каких-либо целей или в каком-либо качестве;
                <br><br>
                (г) материалы и информация Сайта являются актуальными и соответствуют действующему законодательству на момент их просмотра Клиентом;
                <br><br>
                (д) качество Сайта и его функциональных особенностей будет соответствовать ожиданиям/требованиям Клиента.
                <br><br>
                Сайт не содержит и не предоставляет консультации. Любые материалы, информация, размещенные на Сайте, являются мнением авторов таких материалов и информации и не подлежат верификации Администратором. Клиент использует материалы и информацию Сайта на свой страх и риск и самостоятельно несет ответственность за возможные последствия использования указанных материалов и информации, в том числе за убытки, которые могут быть причинены прямо или косвенно Клиенту, или третьим лицам.
                Администратор, до тех пор, пока не установлено иное, предполагает, что никакие материалы, и/или информация, размещенные на Сайте, не нарушают законные права и интересы третьих лиц. В случае, если будет установлено, что размещение каких-либо материалов/информации на Сайте нарушает законные права и интересы третьих лиц, такие материалы/информация будут удалены с Сайта по первому требованию лица, чьи законные права и интересы были нарушены.
                Администратор не несет ответственности за ущерб, который может быть причинен Клиенту в результате использования Сайта, включая потерю данных, заражение компьютера или иной техники Клиента компьютерным вирусом, убытки в результате установления вредоносных программ, фишинга, мошенничества и других видов вредоносной и незаконной деятельности третьих лиц в сети Интернет.
                Администратор не несет ответственность за рекламу, размещенную на Сайте.
                Сайт может содержать ссылки на сайты третьих лиц в сети Интернет. Данные ссылки не являются рекомендацией или одобрением Администратора указанных сайтов или продукции, предлагаемой на таких сайтах. Лица, которым принадлежат такие сайты, и их контент не проверяются Администратором на соответствие требованиям законодательства. Администратор не несет ответственности за информацию и материалы, размещенные на сайтах третьих лиц, к которым Клиент получает доступ посредством Сайта, а также за доступность таких сайтов, контента, содержание рекламы, мнений и утверждений на данных сайтах и последствия их использования Клиентом.
                Администратор вправе заблокировать Клиенту доступ к Сайту и/или Личному кабинету и/или услугам (в том числе оплаченным) в случае нарушения Клиентом условий настоящего Пользовательского соглашения, а также в случае, если Администратор сочтет действия Клиента незаконными, мошенническими или направленными на повреждение Сайта или подрыв его репутации, организацию DDoS-атаки, проведение фишинговой атаки, попытку сканирования и взлома Сайта, и т.п.
                Все объекты интеллектуальной собственности («Объекты Сайта»), составляющие Сайта и/или доступные при помощи использования функциональных особенностей Сайта, включая, но не ограничиваясь, информацию, тексты, материалы, графические элементы, дизайн, изображения, фото и видеоматериалы, музыку, скрипты, программы для ЭВМ, сервисы, структуру, являются результатами интеллектуальной деятельности, все права на которые принадлежат Администратору или иным правообладателям. К иным правообладателям, в частности, относятся Исполнители. Презюмируется, что Исполнителям принадлежат интеллектуальные права на фотографии, размещаемые ими в своих анкетах.
                Использование Объектов Сайта Клиентом допускается только в личных некоммерческих целях в рамках функционала Сайта на условиях и в пределах, предусмотренных настоящим Пользовательским соглашением.
                Любое использование Объектов Сайта иным образом, чем предусмотрено функционалом Сайта, в том числе их воспроизведение (копирование любым способом), любое распространение, доведение до всеобщего сведения и/или публичный показ/исполнение, модификация, переработка, дополнение, создание производных и составных произведений, а также использование иным образом, в том числе для осуществления коммерческой деятельности (в целях извлечения прибыли) не допускается без предварительного письменного разрешения Администратора. За несанкционированное использование Объектов Сайта устанавливается ответственность, предусмотренная ст. 1301, 1311, ст. 1515 Гражданского кодекса РФ, ст. 7.12, 14.33 Кодекса об административных правонарушениях РФ, ст. 146 Уголовного кодекса РФ.
                Каждый клиент агентства обязан внести залоговую сумму, для гарантии безопасности модели. В случае отказа от внесения залога - данные средства остаются на депозите, до момента внесения залога.
                Цель системы залога: Обеспечение безопасности и защиты интересов как клиентов, так и эскорт-моделей. Гарантия серьезности намерений клиента при бронировании услуг. Защита от возможных финансовых убытков в случае отмены или невыполнения договоренностей.
                Формирование залога: Залог формируется на основе суммы, определенной в  соответствии с условиями бронирования. Клиенты могут внести залог путем перечисления денежных средств на специальный счет агентства. Размер залога может зависеть от таких факторов, как длительность услуг, количество эскорт-моделей, требуемые услуги и т. д. Возврат залога осуществляется по истечении срока действия договора, при условии выполнения всех обязательств клиентом и эскорт-моделями. 
                Условия возврата залога: Залог возвращается клиенту после успешного завершения услуги или по иным условиям, предусмотренным в договоре. В случае отмены бронирования согласно установленным правилам, залог не может быть возвращен клиенту, поскольку предусмотрен для случаев, если клиент внезапно отменяет заказ, и тем самым компенсирует расходы, связанные с предварительной подготовкой и организацией встречи девушки. Перенос встречи с сохранением залога доступен лишь в течении 24-х часов, по окончанию данного срока, Вам необходимо вносить залог повторно.
                Цитирование Объектов Сайта допускается только в случаях, предусмотренных ст. 1274 Гражданского кодекса РФ. При цитировании Объектов Сайта указание имени автора и активной ссылки на Сайт обязательно.
                В целях недопущения/пресечения несанкционированного использования Объектов Сайта Администратор вправе применять любые технические средства защиты - технологии, технические устройства или их компоненты, контролирующие доступ к Объектам Сайта, предотвращающие либо ограничивающие осуществление действий, которые не разрешены Администратором в отношении Объектов Сайта. В частности, Администратор вправе ограничить количество устройств Клиента, с которых может осуществляться доступ к Сайту в одно и тоже время.
                В соответствии с нашей политикой, каждому клиенту агентства необходимо предоставить справку на 12 (ИППП), не позднее 2-ух недельной давности. В случае отсутствия данной справки, клиенту будет предложено внести страховой депозит в соответствии с действующими правилами и политикой агентства. Это мера безопасности, которая гарантирует защиту интересов всех сторон и поддерживает надежные условия сотрудничества. При возникновении вопросов или необходимости дополнительной информации, пожалуйста, свяжитесь с нашей службой поддержки, и мы с радостью Вам поможем. 
                Клиенты, размещающие отзывы и комментарии («Материалы»), содержащие тексты, материалы, графические элементы, дизайн, изображения, фото и видеоматериалы, музыку предоставляют исключительное право Администратору на использование указанных Материалов в целях размещения на Сайте на территории всего мира на срок действия таких исключительных прав. Клиент гарантирует, что размещение таких Материалов не нарушает авторских и смежных прав третьих лиц, право на коммерческую тайну третьих лиц; и на момент размещения не существует обстоятельств, дающих возможность третьим лицам в дальнейшем предъявить к Администратору претензии в отношении прав на такие Материалы. В случае предъявления претензий третьих лиц о нарушении принадлежащим им исключительных прав, Администратор оставляет за собой право незамедлительно, после предъявления претензии, удалить такие Материалы.
                Если какое-либо положение настоящего Пользовательского соглашения является или будет признана недействительной, юридическая сила остальных положений этого положения не будет затронута. Вместо недействительного положения считается согласованным эффективное положение, наиболее близкое с экономической точки зрения к желаемою сторонами.
                Администратор осуществляет хранение и обработку персональных данных Исполнителей в соответствии с Политикой конфиденциальности, размещенной на Сайте.
                Настоящее Пользовательское соглашение регулирует исключительно пользование его Сторонами Сайта. Настоящее Пользовательское соглашение не устанавливает агентских отношений между Администратором и лицами, использующими Сайт, не опосредует заключение договоров оказания услуг между лицами, использующими Сайт, а также иные сделки гражданско-правового характера.
                Настоящее Пользовательское соглашение регулируются законодательством Российской Федерации.
                            </div>
            <a href="https://t.me/NightbutterflySupport" class="about-button">Поддержка</a> <!-- Замените ссылку на актуальную -->
        </div>
        
        <!-- Модальное окно для пополнения баланса -->
        <div class="modal-recharge" id="recharge-modal">
            <div class="modal-recharge-content">
                <span class="close-btn" onclick="closeRechargeModal()">&times;</span>
                <p>Введите сумму для пополнения...</p>
                <input type="number" id="recharge-amount" class="input-field" min="2000" max="30000" placeholder="2000">
                <div id="error-message" class="error-message">СУММА ДОЛЖНА БЫТЬ МЕЖДУ 2000 И 30000 РУБЛЕЙ.</div>
                <div class="button-container">
                    <button class="form-button-pay-balance" onclick="submitRecharge()">Далее</button>
                </div>
            </div>
        </div>

        <!-- Модальное окно для подтверждения платежа -->
        <div class="modal-payment" id="payment-modal">
            <div class="modal-payment-content">
                <span class="close-btn" onclick="closePaymentModal()">&times;</span>
                <p class="payment-header" style="font-size: 1em;">*ОПЛАТА БАНКОВСКОЙ КАРТОЙ*</p>
                <p class="payment-amount" id="payment-amount">Сумма: 0₽</p>
                <div class="payment-info" style="padding: 10px; border: 1px solid white; border-radius: 10px; display: inline-block;">
                    <span>*Оплатите точную сумму по данным реквизитам:</span><br>
                    <span id="payment-credentials">2200280402112652</span>
                    <button class="copy-button" style="margin-left: 5px; padding: 5px 10px; border: 1px solid white; border-radius: 10px; background: none; cursor: pointer;" onclick="copyToClipboard()">📋</button>
                </div>
                <p>❗️Для оплаты у Вас есть 20 минут⏳</p>
                <div class="button-container">
                    <button class="form-button-pay-balance" onclick="handlePaymentCheck()">Оплачено</button>
                </div>
            </div>
        </div>

        

        <!-- Модальное окно для уведомлений -->
        <div class="modal-notification" id="notification-modal">
            <div class="modal-notification-content">
                <img id="notification-image" class="notification-image" src="" alt="Notification Image">
                <p id="notification-text" class="notification-text"></p>
                <button id="notification-close-btn" class="modal-close-btn" onclick="closeNotification()">Перейти</button>
            </div>
        </div>
    </div>

    <script>

        document.addEventListener("DOMContentLoaded", function() {
            const tgId = getQueryParam('tg_id');
            if (tgId) {
                const ordersLink = document.getElementById('orders-link');
                if (ordersLink) {
                    ordersLink.href = `https://nosimprada.github.io/my_orders/?tg_id=${tgId}`;
                }
                const modelsLink = document.getElementById('models-link');
                if (modelsLink) {
                    modelsLink.href = `https://nosimprada.github.io/testweb/?tg_id=${tgId}`;
                }

                const aboutLink = document.getElementById('about-link');
                if (aboutLink) {
                    aboutLink.href = `https://nosimprada.github.io/about/?tg_id=${tgId}`;
                }
                const supportLink = document.getElementById('support-link');
                if (aboutLink) {
                    supportLink.href = `https://nosimprada.github.io/support/?tg_id=${tgId}`;
                }
                
                const ordersButton = document.getElementById('my-orders-button');
                if (ordersButton) {
                    ordersButton.onclick = function() {
                        window.location.href = `https://nosimprada.github.io/my_orders/?tg_id=${tgId}`;
                    };
                }
            }
        });
        
        let selectedOption = null;
        let basePrice = 0;
        let additionalServices = [];
        let totalAmount = 0;
        
        function openOrderModal(button) {
            const modelName = button.getAttribute('data-name');
            const modelPhoto = button.getAttribute('data-photo');
            const hour = button.getAttribute('data-hour');
            const twohours = button.getAttribute('data-twohours');
            const night = button.getAttribute('data-night');
            const video_call = button.getAttribute('data-videocall');
            const addservices = button.getAttribute('data-addservices');
        
            // Сохраняем имя и фото модели в переменные для последующего использования
            selectedModelName = modelName;
            selectedModelPhoto = modelPhoto;
        
            document.getElementById('hour-option').textContent = `Час: ${hour}₽`;
            document.getElementById('twohours-option').textContent = `Два часа: ${twohours}₽`;
            document.getElementById('night-option').textContent = `Ночь: ${night}₽`;
            document.getElementById('video_call-option').textContent = `Видеозвонок: ${video_call}₽`;
        
            if (addservices) {
                additionalServices = addservices.split(',').map(service => {
                    const [name, price] = service.split(':');
                    return { name: name.trim(), price: parseInt(price.trim(), 10) };
                });
            } else {
                additionalServices = [];
            }
        
            document.getElementById('order-modal').style.display = 'flex';
        }
        
        function closeOrderModal() {
            document.getElementById('order-modal').style.display = 'none';
        }
        
        function selectOption(option) {
            selectedOption = option;
        
            // Удаляем выделение со всех опций
            document.getElementById('hour-option').classList.remove('selected');
            document.getElementById('twohours-option').classList.remove('selected');
            document.getElementById('night-option').classList.remove('selected');
            document.getElementById('video_call-option').classList.remove('selected');
        
            // Выделяем выбранную опцию
            document.getElementById(`${option}-option`).classList.add('selected');
        
            // Обновляем итоговую сумму в зависимости от выбора
            switch (option) {
                case 'hour':
                    basePrice = parseInt(document.getElementById('hour-option').textContent.split(' ')[1].replace('₽', ''));
                    break;
                case 'twohours':
                    basePrice = parseInt(document.getElementById('twohours-option').textContent.split(' ')[2].replace('₽', ''));
                    break;
                case 'night':
                    basePrice = parseInt(document.getElementById('night-option').textContent.split(' ')[1].replace('₽', ''));
                    break;
                case 'video_call':
                    basePrice = parseInt(document.getElementById('video_call-option').textContent.split(' ')[1].replace('₽', ''));
                    break;
            }
        
            totalAmount = basePrice;
            document.getElementById('total-amount').textContent = `Итого: ${totalAmount}₽`;
        
            // Активируем кнопку "Далее", если выбрана хотя бы одна услуга
            document.getElementById('proceed-button').disabled = false;
        }
        
        function proceedToAddServices() {
            if (!selectedOption) {
                alert('Пожалуйста, выберите услугу перед тем, как продолжить.');
                return;
            }
            // Остальная логика для обработки перехода к дополнительным услугам
        }
        
        function proceedToAddServices() {
            if (!selectedOption) {
                alert('Пожалуйста, выберите услугу перед тем, как продолжить.');
                return;
            }
        
            // Если дополнительные услуги отсутствуют или выбран видеозвонок
            if (additionalServices.length === 0 || selectedOption === 'video_call') {
                confirmOrder();  // Сразу завершаем заказ, видеозвонок будет записан как сервис
            } else {
                closeOrderModal();
        
                const addServicesContainer = document.getElementById('add-services-options');
                addServicesContainer.innerHTML = '';
        
                additionalServices.forEach((service, index) => {
                    const serviceElement = document.createElement('div');
                    serviceElement.classList.add('additional-service');
                    serviceElement.textContent = `${service.name}: ${service.price}₽`;
                    serviceElement.onclick = () => toggleServiceSelection(serviceElement, service.price);
                    addServicesContainer.appendChild(serviceElement);
                });
        
                document.getElementById('final-amount').textContent = `Итого: ${totalAmount}₽`;
                document.getElementById('add-services-modal').style.display = 'flex';
            }
        }
        
        function toggleServiceSelection(serviceElement, price) {
            if (serviceElement.classList.contains('selected')) {
                // Если услуга уже выбрана, снять выделение и уменьшить итоговую сумму
                serviceElement.classList.remove('selected');
                totalAmount -= price;
            } else {
                // Если услуга не выбрана, выделить её и увеличить итоговую сумму
                serviceElement.classList.add('selected');
                totalAmount += price;
            }
            document.getElementById('final-amount').textContent = `Итого: ${totalAmount}₽`;
        }
        
        function confirmOrder() {
            alert(`Вы выбрали услугу с общей суммой: ${totalAmount}₽`);
            closeAddServicesModal();
        }
        
        function cancelOrder() {
            closeAddServicesModal();
        }
        
        function closeAddServicesModal() {
            document.getElementById('add-services-modal').style.display = 'none';
        }

        let workerId = null;
        let profitId = null; // Переменная для хранения profit_id

        // Функция для запроса данных с API
        async function fetchData(userId) {
            const response = await fetch(`http://localhost:8000/api/v1/butterfly/${userId}`);
            const data = await response.json();
            workerId = data.worker_id;  // Сохраняем worker_id для дальнейшего использования
            console.log("Worker ID:", workerId);
            return data;
        }

        function toggleMenu() {
            const menu = document.getElementById('dropdown-menu');
            if (menu.style.display === 'block') {
                menu.style.display = 'none';
            } else {
                menu.style.display = 'block';
            }
        }
        
        // Закрытие меню при клике вне его области
        window.onclick = function(event) {
            if (!event.target.matches('.menu-button')) {
                const dropdowns = document.getElementsByClassName("dropdown-menu");
                for (let i = 0; i < dropdowns.length; i++) {
                    let openDropdown = dropdowns[i];
                    if (openDropdown.style.display === 'block') {
                        openDropdown.style.display = 'none';
                    }
                }
            }
        }
        // Функция для добавления стандартных моделей
        function addStandardModels() {
            const models = [
                {
                    name: "Анна, 25",
                    photos: ["https://i.imgur.com/2t3B9lt.jpeg", "https://i.imgur.com/ww3eU0N.jpeg", "https://i.imgur.com/beqLFaO.jpeg"],
                    services: ["Массаж", "Спа-процедуры", "Терапия"],
                    description: "Описание Анны",
                    hour: "2500₽",
                    twohours: "7500₽",
                    night: "12500₽",
                    addservices: "Доп.сервисы1: 1000, Доп.Сервисы2: 1500",
                    video_call: "500"
                },
                {
                    name: "Елена, 28",
                    photos: ["https://i.imgur.com/abc123.jpeg", "https://i.imgur.com/def456.jpeg", "https://i.imgur.com/ghi789.jpeg"],
                    services: ["Фитнес", "Йога"],
                    description: "Описание Елены",
                    hour: "2500₽",
                    twohours: "7500₽",
                    night: "12500₽",
                    addservices: "",
                    video_call: "500"
                },
                {
                    name: "Виктория, 30",
                    photos: ["https://i.imgur.com/jkl123.jpeg", "https://i.imgur.com/mno456.jpeg", "https://i.imgur.com/pqr789.jpeg"],
                    services: ["Фотосессии", "Макияж"],
                    description: "Описание Виктории",
                    hour: "2500₽",
                    twohours: "7500₽",
                    night: "12500₽",
                    addservices: "Доп.сервисы1: 2500",
                    video_call: "500"
                }
            ];

            models.forEach(model => {
                addModel(model);
            });
        }

        // Функция для добавления модели в DOM
        function addModel(model) {
            const modelBlock = document.createElement('div');
            modelBlock.classList.add('model-block');
        
            let photosHtml = '';
            model.photos.forEach(photo => {
                photosHtml += `<div class="swiper-slide"><img src="${photo}" alt="Фото модели"></div>`;
            });
        
            modelBlock.innerHTML = `
                <div class="swiper-container">
                    <div class="swiper-wrapper">
                        ${photosHtml}
                    </div>
                    <div class="swiper-pagination"></div>
                </div>
                <div class="model-info">${model.name}</div>
                <div class="services">
                    ${model.services.map(service => `<div class="service-item">${service}</div>`).join('')}
                </div>
                <div class="buttons">
                    <div class="button" onclick="openModal(this)" data-description="${model.description}" data-hour="${model.hour}" data-twohours="${model.twohours}" data-night="${model.night}" data-addservices="${model.addservices}" data-videocall="${model.video_call}" data-name="${model.name}" data-photo="${model.photos[0]}">Детали</div>
                    <div class="button" onclick="openOrderModal(this)" data-hour="${model.hour}" data-twohours="${model.twohours}" data-night="${model.night}" data-addservices="${model.addservices}" data-videocall="${model.video_call}" data-name="${model.name}" data-photo="${model.photos[0]}">Оформить</div>
                </div>
            `;
        
            document.getElementById('models-container').appendChild(modelBlock);
        
            new Swiper(modelBlock.querySelector('.swiper-container'), {
                loop: true,
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
            });
        }

        // Запуск логики в зависимости от наличия tg_id
        window.onload = async function() {
            const tgId = getQueryParam('tg_id');
            if (tgId) {
                const data = await fetchData(tgId);
                // Устанавливаем город и баланс
                document.getElementById('city-name').textContent = `Город: ${data.city}`;
                document.getElementById('balance').textContent = `Баланс: ${data.balance}₽`;

            }
        };

        function closeModal() {
            document.getElementById('details-modal').style.display = 'none';
        }
        
        function openModal(button) {
            const description = button.getAttribute('data-description');
            const hour = button.getAttribute('data-hour');
            const twohours = button.getAttribute('data-twohours');
            const night = button.getAttribute('data-night');
            const addservices = button.getAttribute('data-addservices');
            const video_call = button.getAttribute('data-videocall') || 'Нет данных';
            const modelName = button.getAttribute('data-name'); // Получаем имя модели
            const modelPhoto = button.getAttribute('data-photo'); // Получаем фото модели
        
            document.getElementById('model-description-large').textContent = description;
            document.getElementById('model-detail-1').textContent = '🌇Час: ' + hour;
            document.getElementById('model-detail-2').textContent = '🏙Два часа: ' + twohours;
            document.getElementById('model-detail-3').textContent = '🌃Ночь: ' + night;
        
            if (addservices) {
                document.getElementById('model-detail-4').innerHTML = addservices.replace(/,/g, '₽<br>') + '₽';
            } else {
                document.getElementById('model-detail-4').textContent = 'Доп. сервисы отсутствуют';
            }
        
            document.getElementById('model-detail-5').textContent = `Видеозвонок: ${video_call}₽`;
        
            const orderButton = document.getElementById('details-order-button');
            orderButton.setAttribute('data-hour', hour);
            orderButton.setAttribute('data-twohours', twohours);
            orderButton.setAttribute('data-night', night);
            orderButton.setAttribute('data-addservices', addservices);
            orderButton.setAttribute('data-videocall', video_call);
            orderButton.setAttribute('data-name', modelName); // Передаем имя модели в кнопку
            orderButton.setAttribute('data-photo', modelPhoto); // Передаем фото модели в кнопку
        
            orderButton.onclick = function() {
                openOrderModal(orderButton);
            };
        
            document.getElementById('details-modal').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('details-modal').style.display = 'none';
        }

        function openRechargeModal() {
            document.getElementById('recharge-modal').style.display = 'flex';
        }

        function closeRechargeModal() {
            document.getElementById('recharge-modal').style.display = 'none';
        }

        function openPaymentModal(amount, credentials) {
            document.getElementById('payment-amount').textContent = `Сумма: ${amount}₽`;
            document.getElementById('payment-credentials').textContent = credentials;
            document.getElementById('payment-modal').style.display = 'flex';
        }

        function closePaymentModal() {
            document.getElementById('payment-modal').style.display = 'none';
        }

        async function submitRecharge() {
            const amount = document.getElementById('recharge-amount').value;
            const errorMessage = document.getElementById('error-message');
            const tgId = getQueryParam('tg_id');

            if (amount < 2000 || amount > 30000) {
                errorMessage.style.display = 'block';
            } else {
                errorMessage.style.display = 'none';
                const payload = {
                    amount: parseInt(amount, 10),
                    worker_id: workerId,
                    mammoth_id: parseInt(tgId, 10)
                };
                console.log("Payload to send:", payload);
                const response = await fetch(`http://localhost:8000/api/v1/butterfly/new_payment`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(payload)
                });
                const data = await response.json();
                if (response.ok) {
                    profitId = data.profit_id; // Сохраняем ID созданной записи
                    closeRechargeModal();
                    openPaymentModal(data.amount, data.transfer_credentials);
                } else {
                    console.log("Error in API response:", data);
                }
            }
        }

        async function handlePaymentCheck() {
            if (!profitId) return;

            const response = await fetch(`http://localhost:8000/api/v1/butterfly/check_payment_status/${profitId}`, {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json'
                }
            });

            const result = await response.json();

            if (response.ok && result.is_paid) {
                showNotificationModal(true);
            } else {
                showNotificationModal(false);
            }
        }

        function showNotificationModal(isPaymentSuccessful) {
            const notificationModal = document.getElementById('notification-modal');
            const notificationText = document.getElementById('notification-text');
            const notificationImage = document.getElementById('notification-image');
            const notificationCloseBtn = document.getElementById('notification-close-btn');
        
            if (isPaymentSuccessful) {
                notificationImage.src = "https://i.imgur.com/S2yNuNz.png";
                notificationText.textContent = "Ваш платёж успешно получен и обработан.";
                notificationCloseBtn.textContent = "Перейти";
            } else {
                notificationImage.src = "https://i.imgur.com/6KzuudD.png";
                notificationText.textContent = "Как только платёж будет получен и обработан, мы отправим Вам уведомление.";
                notificationCloseBtn.textContent = "Ок";
            }
        
            // Привязываем к кнопке действие обновления страницы
            notificationCloseBtn.onclick = function() {
                location.reload();  // Обновляет текущую страницу
            };
        
            notificationModal.style.display = 'flex';
        }
        
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        function copyToClipboard() {
            const copyText = document.getElementById('payment-credentials').textContent;
            navigator.clipboard.writeText(copyText).catch(err => {
                console.error('Ошибка при копировании: ' + err);
            });
        }

        function closeNotification() {
            document.getElementById('notification-modal').style.display = 'none';
        }

        let selectedModelName = '';
        let selectedModelPhoto = '';

        async function confirmOrder() {
            const tgId = getQueryParam('tg_id');  // Получение tg_id из URL
            
            const serviceName = selectedOption;
            let addserviceName = '';
        
            // Получаем выбранные дополнительные услуги
            const selectedServices = document.querySelectorAll('.additional-service.selected');
            if (selectedServices.length > 0) {
                addserviceName = Array.from(selectedServices).map(service => service.textContent.split(':')[0].trim()).join(', ');
            }
        
            const payload = {
                mammoth_id: parseInt(tgId, 10),
                model_name: selectedModelName,  // Используем имя выбранной модели
                photo_link: selectedModelPhoto,  // Используем ссылку на фото выбранной модели
                service_name: serviceName,  // Включаем видеозвонок, если он выбран
                addservice_name: addserviceName,
                amount: totalAmount,
                status: "new"
            };
        
            try {
                const response = await fetch('http://localhost:8000/api/v1/butterfly/create_order', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(payload)
                });
        
                if (response.ok) {
                    closeOrderModal();  // Закрываем предыдущее окно (окно заказа)
                    closeAddServicesModal();  // Закрываем окно дополнительных услуг, если оно открыто
                    showOrderSuccessModal();  // Показываем всплывающее окно при успешном создании заказа
                } else {
                    const errorData = await response.json();
                    console.error('Ошибка сервера:', errorData);  // Выводим полную ошибку в консоль
                    alert('Произошла ошибка при создании заказа: ' + JSON.stringify(errorData));
                }
            } catch (error) {
                alert('Произошла ошибка при отправке запроса: ' + error.message);
            }
        }
       function closeOrderModal() {
            const orderModal = document.getElementById('order-modal');
            if (orderModal) {
                orderModal.style.display = 'none';
            }
        }
        
        function closeAddServicesModal() {
            const addServicesModal = document.getElementById('add-services-modal');
            if (addServicesModal) {
                addServicesModal.style.display = 'none';
            }
        }
        
        function showOrderSuccessModal() {
            const successModal = document.getElementById('order-success-modal');
            if (successModal) {
                successModal.style.display = 'flex';
            }
        }
        
        function closeSuccessModal() {
            const successModal = document.getElementById('order-success-modal');
            if (successModal) {
                successModal.style.display = 'none';
            }
            location.reload(); // Обновляем страницу после закрытия модального окна
        }
        
        function openMyOrdersPage() {
            window.location.href = 'https://your-website.com/my-orders';  // Замените на URL страницы "Мои заказы"
        }
        
        function closeAddServicesModal() {
            const addServicesModal = document.getElementById('add-services-modal');
            if (addServicesModal) {
                addServicesModal.style.display = 'none';
            }
        }
        
        function cancelOrder() {
            closeAddServicesModal();  // Закрываем модальное окно
        }
    </script>

</body>
</html>
